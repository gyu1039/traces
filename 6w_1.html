<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>recursive function</h2>
    <script>
        var num = 0;
        function testFn() {
            num++;
            document.write(num, "&nbsp");
            if(num == 10) return;

            testFn();
        }
        testFn();
    </script>

    <h2>scope, local variable, global variable</h2>
    <script>
        var A = 300; //전역변수
        var B = 300; 
        document.write("Line 26 A=" + A+ "<br>");
        document.write("Line 27 B=" + B + "<br>");
        check();
        function check() {
            A = 200; // 전역변수
            var B = 200;
            document.write("함수 내 A=" + A+ "<br>" );
            document.write("함수 내 B=" + B+ "<br>");
        }
        document.write("Line 35 A=" + A+ "<br>");
        document.write("Line 36 B=" + B + "<br>");
    </script>
    <h2>변수 범위 예제</h2>
    <script>
        var n = 0, count = 0;
        function inc() {
            count++;
            n++;
            document.title = "누른 횟수= " + count;
            document.getElementById("pp").innerHTML = n + "<hr>";
            document.getElementById("pp").style.color = "blue";
            document.getElementById("pp").style.backgroundColor = "yellow";
        }
        function dec() {
            count++;
            n--;
            document.title = "누른 횟수= " + count;
            document.getElementById("pp").innerHTML = n + "<hr>";
            document.getElementById("pp").style.color="red";
            document.getElementById("pp").style.backgroundColor = "lightgray";
        }
    </script>
    <p id="pp">....</p>
    <button onclick="inc()">증가</button>
    <button onclick="dec()">감소</button>
    
    <h2>전역 함수와 지역 함수</h2>
    <script>
        function myFnc() {
            alert("전역 함수");
        }

        function outerFnc() {
            function myFnc() {
                alert("지역 함수");
            }
            myFnc();
        }
        document.write("코드 참고");
    </script>

    <h2>함수 예제</h2>
    <script>
        var num = 100;
        function menu() {
            num += 100;
            document.write("funcion1의 " + num);
        }
        menu(); // 아래 menu함수가 먹힌다.  
        function menu() {
            document.write("function2의 " + num);
        }
    </script>
    
    <h3 id="ff">선택한 과일</h3>
    <button onclick="changeCaption1('Apple')">사과</button>
    <button onclick="changeCaption2('Orange')">오렌지</button>
    <script>
        var n1=0, n2=0;
        function changeCaption1(cap) {
            n1++;
            document.getElementById('ff').style.color = "green";
            document.getElementById('ff').innerHTML = cap + " 누른 횟수=" +  n1;
        }
        function changeCaption2(cap) {  
            n2++;
            document.getElementById('ff').style.color = "red";
            document.getElementById('ff').innerText = cap + " 누른 횟수=" + n2;
        }
    </script>

    <h2>즉시실행함수</h2>
    <script>
        ( function() {
            var num = 100;
            function menu() {
                num +=100;
                alert("즉시 실행 함수1의 "+ num);
            }
            menu();
        } () );

        ( function() {
            var num = 100;
            function menu() {
                alert("즉시 실행 함수2의 " + num);
            }
            menu();
        } () );

        var hap = (function (x,y) {
            return x+y;
        } (100, 200) );
        document.write("합 = " + hap)
    </script>

    <h2>anonymous function</h2>
    <script>
        document.write("익명함수는 이벤트 바인딩때만 함수를 load하기 때문에 작성순서가 중요하다 <br>" );
        // document.write("합" + plus(9,11)); // 오류 난다
        var plus = function(x,y) {
            return x+y;
        }
        document.write("합= " + plus(9,11)); // 정상 작동
    </script>

    <h2>객체 생성자 함수 예제</h2>
    <script>
        function CheckWeight(name, height, weight) {
            this.userName = name;
            this.userHeight = height;
            this.userWeight = weight;
            this.minWeight;
            this.maxWeight;
        }
        CheckWeight.prototype.getInfo = function() {
            var str = "";
            str += "이름: " + this.userName + ", ";
            str += "키: " + this.userHeight + ", ";
            str += "몸무게: " + this.userWeight + "<br>";
            return str;
        }
        CheckWeight.prototype.getResult = function() {
            this.minWeight = (this.userHeight - 100) * 0.9 - 5;
            this.maxWeight = (this.userHeight - 100) * 0.9 + 5;

            if(this.userWeight >= this.minWeight && this.userWeight <= this.maxWeight) {
                return "정상 몸무게 입니다.";
            }
            else if(this.userWeight < this.minWeight){
                return "정상 몸무게보다 미달입니다.";
            }
            else {
                return "정상 몸무게보다 초과입니다.";
            }
        }

        var jang = new CheckWeight("장보리", 168, 62);
        var park = new CheckWeight("박달재", 180, 88);
        console.log(jang);
        console.log(park);
        document.write(jang.getInfo());
        document.write(jang.getResult(), "<br>");

        document.write(jang.getResult === park.getResult);
    </script>
</body>
</html>